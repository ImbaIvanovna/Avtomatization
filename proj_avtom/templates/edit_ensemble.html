{% extends "base.html" %}

{% block title %}Редактировать ансамбль - Музыкальный магазин{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h1 class="card-title">
            <i class="fas fa-edit"></i>
            Редактировать ансамбль
        </h1>
        <p class="card-subtitle">
            Изменение данных об ансамбле "{{ ensemble.name }}"
        </p>
    </div>
    
    <form method="POST" action="{{ url_for('update_ensemble', ensemble_id=ensemble.id) }}">
        <div class="form-row">
            <div class="form-group">
                <label for="name" class="form-label">Название ансамбля *</label>
                <input type="text" name="name" id="name" class="form-control" 
                       value="{{ ensemble.name }}" required>
            </div>
            <div class="form-group">
                <label for="type" class="form-label">Тип ансамбля *</label>
                <div class="select-wrapper">
                    <select name="type" id="type" class="form-control select" required>
                        <option value="">-- Выберите тип --</option>
                        <option value="оркестр" {% if ensemble.type == 'оркестр' %}selected{% endif %}>Оркестр</option>
                        <option value="джазовая группа" {% if ensemble.type == 'джазовая группа' %}selected{% endif %}>Джазовая группа</option>
                        <option value="квартет" {% if ensemble.type == 'квартет' %}selected{% endif %}>Квартет</option>
                        <option value="квинтет" {% if ensemble.type == 'квинтет' %}selected{% endif %}>Квинтет</option>
                        <option value="трио" {% if ensemble.type == 'трио' %}selected{% endif %}>Трио</option>
                        <option value="дуэт" {% if ensemble.type == 'дуэт' %}selected{% endif %}>Дуэт</option>
                        <option value="соло" {% if ensemble.type == 'соло' %}selected{% endif %}>Соло</option>
                        <option value="хор" {% if ensemble.type == 'хор' %}selected{% endif %}>Хор</option>
                        <option value="камерный ансамбль" {% if ensemble.type == 'камерный ансамбль' %}selected{% endif %}>Камерный ансамбль</option>
                        <option value="другой" {% if ensemble.type == 'другой' %}selected{% endif %}>Другой</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="founded_year" class="form-label">Год основания</label>
                <input type="number" name="founded_year" id="founded_year" class="form-control" 
                       min="1800" max="2024" value="{{ ensemble.founded_year or '' }}">
            </div>
            <div class="form-group">
                <label for="country" class="form-label">Страна</label>
                <input type="text" name="country" id="country" class="form-control" 
                       value="{{ ensemble.country or '' }}">
            </div>
        </div>
        
        <div class="form-group">
            <label for="description" class="form-label">Описание</label>
            <textarea name="description" id="description" class="form-control" rows="4" 
                      placeholder="Краткое описание ансамбля...">{{ ensemble.description or '' }}</textarea>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-success">
                <i class="fas fa-save"></i>
                Сохранить изменения
            </button>
            <a href="{{ url_for('manage_ensembles') }}" class="btn btn-primary">
                <i class="fas fa-arrow-left"></i>
                Назад к списку
            </a>
        </div>
    </form>
</div>

<style>
.form-actions {
    display: flex;
    gap: 15px;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 2px solid #e9ecef;
}

textarea.form-control {
    resize: vertical;
    min-height: 100px;
}

@media (max-width: 768px) {
    .form-actions {
        flex-direction: column;
    }
    
    .form-actions .btn {
        width: 100%;
    }
}
</style>
{% endblock %}
